var Rr=Object.defineProperty,Ir=Object.defineProperties;var Ar=Object.getOwnPropertyDescriptors;var nr=Object.getOwnPropertySymbols;var Dr=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable;var ir=(o,a,h)=>a in o?Rr(o,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):o[a]=h,P=(o,a)=>{for(var h in a||(a={}))Dr.call(a,h)&&ir(o,h,a[h]);if(nr)for(var h of nr(a))Fr.call(a,h)&&ir(o,h,a[h]);return o},U=(o,a)=>Ir(o,Ar(a));var N=(o,a,h)=>new Promise((S,p)=>{var i=g=>{try{l(h.next(g))}catch(w){p(w)}},v=g=>{try{l(h.throw(g))}catch(w){p(w)}},l=g=>g.done?S(g.value):Promise.resolve(g.value).then(i,v);l((h=h.apply(o,a)).next())});import{c as Mr,j as e,S as Tr,C as _r,T as Or,a as Lr,b as Br,B as r,d as Se,P as j,e as ye,f as t,F as De,I as Fe,g as Me,M as V,h as u,u as Ve,i as Ye,k as Q,G as oe,l as Pr,m as Er,n as $r,o as Ur,p as Hr,q as Ue,r as T,s as X,L as or,t as ar,v as ur,w as be,x as je,y as me,D as Te,z as Nr,A as Je,E as Gr,H as _e,J as Ie,K as He,R as ae,N as Be,O as lr,Q as le,U as de,V as ce,W as G,X as n,Y as xe,Z as Vr,_ as H,$ as E,a0 as Yr,a1 as Jr,a2 as Ne,a3 as ve,a4 as qr,a5 as pr,a6 as br,a7 as jr,a8 as mr,a9 as vr,aa as Oe,ab as Kr,ac as Pe,ad as Xr,ae as Qr,af as Zr,ag as k,ah as ze,ai as yr,aj as Sr,ak as dr,al as Ae,am as Ee,an as $e,ao as cr,ap as et,aq as rt,ar as tt,as as st,at as xr,au as nt,av as it,aw as hr,ax as ot,ay as at,az as lt,aA as dt}from"./mui-BVw_ekm8.js";import{c as ct,a as Cr,r as x}from"./vendor-B1Kjdn4M.js";import{a as D}from"./axios-ok5IlGam.js";import{c as Le}from"./utils-CvWlWUpv.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))S(p);new MutationObserver(p=>{for(const i of p)if(i.type==="childList")for(const v of i.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&S(v)}).observe(document,{childList:!0,subtree:!0});function h(p){const i={};return p.integrity&&(i.integrity=p.integrity),p.referrerPolicy&&(i.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?i.credentials="include":p.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function S(p){if(p.ep)return;p.ep=!0;const i=h(p);fetch(p.href,i)}})();var Ge={},gr=ct;Ge.createRoot=gr.createRoot,Ge.hydrateRoot=gr.hydrateRoot;const xt=Mr({key:"rtl",prepend:!0}),ht=({children:o})=>(Cr.useEffect(()=>{document.documentElement.dir="rtl",document.documentElement.lang="fa",document.title="سیستم آپلود فایل معلم";const a=document.querySelector('meta[name="viewport"]');a&&a.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")},[]),e.jsx(Tr,{injectFirst:!0,children:e.jsx(_r,{value:xt,children:o})})),kr=x.createContext(),qe=()=>{const o=x.useContext(kr);if(!o)throw new Error("useThemeDesign must be used within a ThemeDesignProvider");return o},gt=()=>Br({direction:"rtl",palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#ffffff"},secondary:{main:"#dc004e",light:"#ff5983",dark:"#9a0036",contrastText:"#ffffff"},background:{default:"#fafafa",paper:"#ffffff"},text:{primary:"#212121",secondary:"#757575"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},success:{main:"#4caf50"},warning:{main:"#ff9800"},error:{main:"#f44336"},info:{main:"#2196f3"}},typography:{fontFamily:["Vazirmatn","Vazirmatn VF","Vazirmatn-Light","Vazirmatn-Medium","Vazirmatn-Bold","IRANSans","IRANSans-web","IRANSansX","Tahoma","Arial","sans-serif"].join(","),fontSize:16,h1:{fontSize:"2.75rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.02em"},h2:{fontSize:"2.25rem",fontWeight:700,lineHeight:1.3,letterSpacing:"-0.01em"},h3:{fontSize:"1.9rem",fontWeight:600,lineHeight:1.3},h4:{fontSize:"1.6rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.35rem",fontWeight:600,lineHeight:1.4},h6:{fontSize:"1.2rem",fontWeight:600,lineHeight:1.5},body1:{fontSize:"1.1rem",lineHeight:1.6},body2:{fontSize:"0.95rem",lineHeight:1.6},button:{fontSize:"1.1rem",fontWeight:600,textTransform:"none",letterSpacing:"0.02em"},caption:{fontSize:"0.8rem",lineHeight:1.4}},spacing:8,shape:{borderRadius:12},components:{MuiCssBaseline:{styleOverrides:{body:{fontFamily:["Vazirmatn","Vazirmatn VF","IRANSans","IRANSans-web","IRANSansX","Tahoma","Arial","sans-serif"].join(","),direction:"rtl",textAlign:"right",fontFeatureSettings:'"liga" 1, "kern" 1',WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},html:{direction:"rtl"},'*[dir="rtl"]':{direction:"rtl"}}},MuiButton:{styleOverrides:{root:{borderRadius:12,padding:"12px 24px",fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.12)"}},contained:{boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 6px 12px rgba(0,0,0,0.15)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#1976d2",borderWidth:"2px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1976d2",borderWidth:"2px"}}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.08)","&:hover":{boxShadow:"0 8px 24px rgba(0,0,0,0.12)",transform:"translateY(-2px)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}},MuiPaper:{styleOverrides:{root:{borderRadius:16},elevation1:{boxShadow:"0 2px 4px rgba(0,0,0,0.08)"},elevation2:{boxShadow:"0 4px 8px rgba(0,0,0,0.12)"},elevation3:{boxShadow:"0 8px 16px rgba(0,0,0,0.16)"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#1976d2",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.2)"}}},MuiDrawer:{styleOverrides:{paper:{borderRadius:0,backgroundColor:"#ffffff",borderRight:"1px solid rgba(0,0,0,0.08)"}}},MuiListItem:{styleOverrides:{root:{borderRadius:8,margin:"4px 8px","&.Mui-selected":{backgroundColor:"rgba(25, 118, 210, 0.08)","&:hover":{backgroundColor:"rgba(25, 118, 210, 0.12)"}}}}},MuiTableHead:{styleOverrides:{root:{backgroundColor:"#f8f9fa","& .MuiTableCell-head":{fontWeight:600,color:"#424242",borderBottom:"2px solid #e0e0e0"}}}},MuiTableCell:{styleOverrides:{root:{padding:"16px 24px",borderBottom:"1px solid #f0f0f0"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiDialog:{styleOverrides:{paper:{borderRadius:16}}},MuiDialogTitle:{styleOverrides:{root:{fontSize:"1.25rem",fontWeight:600,color:"#212121",padding:"24px 24px 16px 24px"}}},MuiDialogContent:{styleOverrides:{root:{padding:"16px 24px"}}},MuiDialogActions:{styleOverrides:{root:{padding:"16px 24px 24px 24px",gap:"8px"}}}}}),fr=({children:o})=>{const a=x.useMemo(()=>gt(),[]),h=x.useMemo(()=>({theme:a,isRTL:!0,direction:"rtl"}),[a]);return e.jsx(kr.Provider,{value:h,children:e.jsxs(Or,{theme:a,children:[e.jsx(ht,{}),e.jsx(Lr,{}),o]})})},ft=Le.apiBaseUrl,ut=[{value:"0",label:"پایه پیش"},{value:"1",label:"پایه اول"},{value:"2",label:"پایه دوم"},{value:"3",label:"پایه سوم"},{value:"4",label:"پایه چهارم"},{value:"5",label:"پایه پنجم"},{value:"6",label:"پایه ششم"},{value:"7",label:"پایه هفتم"}],pt=[{id:1,name:"علی محمدی",grade:"1"},{id:2,name:"فاطمه رضوی",grade:"1"},{id:3,name:"حسین احمدی",grade:"2"},{id:4,name:"مریم حسینی",grade:"2"},{id:5,name:"رضا کریمی",grade:"3"},{id:6,name:"زهرا محمدی",grade:"3"},{id:7,name:"احمد رضایی",grade:"4"},{id:8,name:"نرگس اکبری",grade:"4"},{id:9,name:"مهدی صفری",grade:"5"},{id:10,name:"سمیرا نوری",grade:"5"},{id:11,name:"کامران محمدی",grade:"6"},{id:12,name:"الهام رضوی",grade:"6"},{id:13,name:"مصطفی احمدی",grade:"7"},{id:14,name:"نازنین حسینی",grade:"7"}];function bt({onLogin:o}){const[a,h]=x.useState(""),[S,p]=x.useState(""),[i,v]=x.useState([]);x.useEffect(()=>{if(a){const g=pt.filter(w=>w.grade===a);v(g),p("")}else v([]),p("")},[a]);const l=()=>N(this,null,function*(){if(S)try{const g=yield D.post(`${ft}/login/`,{teacher_id:parseInt(S)});g.data.success&&o(g.data)}catch(g){console.error("Login error:",g)}});return e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:2},children:e.jsx(Se,{maxWidth:"sm",children:e.jsxs(j,{elevation:2,sx:{p:4,borderRadius:2},children:[e.jsxs(r,{textAlign:"center",mb:4,children:[e.jsx(r,{sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"#1976d2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto"},children:e.jsx(ye,{sx:{fontSize:30,color:"white"}})}),e.jsx(t,{variant:"h5",component:"h1",sx:{fontWeight:600,mb:2},children:"سیستم آپلود فایل معلم"}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"لطفاً پایه و نام خود را انتخاب کنید"})]}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(De,{fullWidth:!0,children:[e.jsx(Fe,{children:"پایه تحصیلی"}),e.jsxs(Me,{value:a,onChange:g=>h(g.target.value),label:"پایه تحصیلی",children:[e.jsx(V,{value:"",children:e.jsx("em",{children:"پایه را انتخاب کنید"})}),ut.map(g=>e.jsx(V,{value:g.value,children:g.label},g.value))]})]}),e.jsxs(De,{fullWidth:!0,disabled:!a,children:[e.jsx(Fe,{children:"نام معلم"}),e.jsxs(Me,{value:S,onChange:g=>p(g.target.value),label:"نام معلم",children:[e.jsx(V,{value:"",children:e.jsx("em",{children:"معلم را انتخاب کنید"})}),i.map(g=>e.jsx(V,{value:g.id,children:g.name},g.id))]})]}),e.jsx(u,{variant:"contained",fullWidth:!0,disabled:!S,onClick:l,sx:{py:1.5},children:"ورود به سیستم"})]})]})})})}const jt=Le.apiBaseUrl,se=[{label:"انتخاب فایل",description:"فایل مورد نظر خود را انتخاب کنید",icon:e.jsx(Ue,{})},{label:"مشخصات",description:"توضیحات و تنظیمات چاپ را وارد کنید",icon:e.jsx(Te,{})},{label:"تایید",description:"بررسی نهایی و ارسال فایل",icon:e.jsx(Gr,{})}],mt=[{value:"A4",label:"A4",description:"سایز استاندارد"},{value:"A5",label:"A5",description:"سایز کوچک"}];function vt({user:o,onNavigate:a,onLogout:h}){var fe;const S=Ve();Ye(S.breakpoints.down("md"));const{isRTL:p}=qe(),[i,v]=x.useState(0),[l,g]=x.useState({file:null,description:"",pages:"",paper_size:"A4",duplex:"0"}),[w,_]=x.useState(!1),[O,z]=x.useState(""),[F,J]=x.useState(!1),[f,R]=x.useState(0),[$,A]=x.useState(!1),b=x.useRef(null),L=d=>{const C=d.target.files[0];C&&(g(U(P({},l),{file:C})),C.type==="application/pdf"?J(!0):(J(!1),g(Y=>U(P({},Y),{pages:""}))),i===0&&v(1))},B=d=>{d.preventDefault(),d.stopPropagation(),d.type==="dragenter"||d.type==="dragover"?A(!0):d.type==="dragleave"&&A(!1)},Z=d=>{if(d.preventDefault(),d.stopPropagation(),A(!1),d.dataTransfer.files&&d.dataTransfer.files[0]){const C=d.dataTransfer.files[0];g(U(P({},l),{file:C})),C.type==="application/pdf"?J(!0):(J(!1),g(Y=>U(P({},Y),{pages:""}))),i===0&&v(1)}},q=d=>{g(U(P({},l),{[d.target.name]:d.target.value}))},he=()=>{v(d=>d+1)},ge=()=>{v(d=>d-1)},ee=()=>N(this,null,function*(){var d,C,Y;if(!l.file){z("لطفاً فایل را انتخاب کنید");return}_(!0),z("");try{const W=new FormData;W.append("file",l.file),W.append("user_id",o.id),W.append("description",l.description),W.append("paper_size",l.paper_size),W.append("duplex",l.duplex),F&&W.append("pages",l.pages),R(10),(yield D.post(`${jt}/upload/`,W,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:m=>{const y=Math.round(m.loaded*100/m.total);R(y)}})).data.success?(z("فایل با موفقیت آپلود شد"),R(100),setTimeout(()=>{a("myfiles")},2e3)):z("خطا در آپلود فایل")}catch(W){if(console.error("Upload error:",W),((d=W.response)==null?void 0:d.status)===401){h();return}(Y=(C=W.response)==null?void 0:C.data)!=null&&Y.error?z(W.response.data.error):z("خطا در اتصال به سرور")}finally{_(!1)}}),Ce=d=>{if(d===0)return"0 Bytes";const C=1024,Y=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(d)/Math.log(C));return parseFloat((d/Math.pow(C,W)).toFixed(2))+" "+Y[W]};return o?e.jsx(r,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:{xs:2,sm:3,md:4},direction:"rtl"},children:e.jsxs(Se,{maxWidth:"md",children:[e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid rgba(0,0,0,0.05)",mb:4},children:e.jsxs(Q,{sx:{p:4},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(r,{sx:{width:60,height:60,borderRadius:"50%",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(25, 118, 210, 0.3)"},children:e.jsx(ye,{sx:{fontSize:28,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#1976d2",mb:.5},children:"آپلود فایل"}),e.jsxs(t,{variant:"h6",color:"text.secondary",children:[o==null?void 0:o.name," - پایه ",o==null?void 0:o.grade]})]})]}),e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(u,{variant:"outlined",onClick:()=>a("myfiles"),startIcon:e.jsx(oe,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:"فایل‌های من"}),e.jsx(u,{variant:"contained",color:"error",onClick:h,startIcon:e.jsx(Pr,{}),sx:{borderRadius:3,fontWeight:600,backgroundColor:"#f44336","&:hover":{backgroundColor:"#d32f2f"}},children:"خروج"})]})]}),e.jsx(Er,{activeStep:i,orientation:"horizontal",sx:{mb:4},children:se.map((d,C)=>e.jsx($r,{children:e.jsx(Ur,{sx:{"& .MuiStepLabel-label":{fontWeight:600,fontSize:"1rem"}},children:d.label})},d.label))})]})}),e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:e.jsxs(Q,{sx:{p:{xs:3,sm:4,md:5}},children:[i===0&&e.jsxs(r,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:600,mb:3,textAlign:"center"},children:se[0].label}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:4,textAlign:"center"},children:se[0].description}),e.jsxs(r,{onDragEnter:B,onDragLeave:B,onDragOver:B,onDrop:Z,onClick:()=>{var d;return(d=b.current)==null?void 0:d.click()},sx:{border:"3px dashed",borderColor:$?"#1976d2":"#ddd",borderRadius:4,p:{xs:4,sm:6,md:8},textAlign:"center",backgroundColor:$?"#e3f2fd":"#fafafa",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:"#1976d2",backgroundColor:"#f5f5f5"}},children:[e.jsx(Hr,{sx:{fontSize:64,color:"#1976d2",mb:2}}),e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"فایل را اینجا رها کنید یا کلیک کنید"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"فرمت‌های مجاز: PDF, JPG, PNG, TXT (حداکثر 50MB)"})]}),e.jsx("input",{ref:b,type:"file",accept:".pdf,.jpg,.jpeg,.png,.txt",onChange:L,style:{display:"none"}}),l.file&&e.jsx(j,{elevation:4,sx:{mt:3,p:3,borderRadius:3,backgroundColor:"#f8f9fa",border:"1px solid #e9ecef"},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ue,{sx:{fontSize:32,color:"#1976d2"}}),e.jsxs(r,{sx:{flexGrow:1},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600},children:l.file.name}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[Ce(l.file.size)," - ",l.file.type]})]}),e.jsx(T,{label:"فایل انتخاب شد",color:"success",sx:{fontWeight:600}})]})})]}),i===1&&e.jsxs(r,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:600,mb:3,textAlign:"center"},children:se[1].label}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:4,textAlign:"center"},children:se[1].description}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:4},children:[e.jsx(X,{fullWidth:!0,label:"توضیحات",name:"description",multiline:!0,rows:4,value:l.description,onChange:q,variant:"outlined",placeholder:"توضیحات فایل را وارد کنید...",sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}),F&&e.jsx(X,{fullWidth:!0,label:"شماره صفحات",name:"pages",value:l.pages,onChange:q,variant:"outlined",placeholder:"مثال: 1-3,5",helperText:"برای PDF‌ها، شماره صفحات مورد نظر را وارد کنید",sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsxs(r,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:[e.jsxs(De,{sx:{minWidth:200,flexGrow:1},children:[e.jsx(Fe,{sx:{fontWeight:600},children:"اندازه کاغذ"}),e.jsx(Me,{name:"paper_size",value:l.paper_size,onChange:q,label:"اندازه کاغذ",sx:{borderRadius:3},children:mt.map(d=>e.jsx(V,{value:d.value,children:e.jsxs(r,{children:[e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:d.label}),e.jsx(t,{variant:"body2",color:"text.secondary",children:d.description})]})},d.value))})]}),e.jsxs(De,{sx:{minWidth:200,flexGrow:1},children:[e.jsx(Fe,{sx:{fontWeight:600},children:"نوع چاپ"}),e.jsxs(Me,{name:"duplex",value:l.duplex,onChange:q,label:"نوع چاپ",sx:{borderRadius:3},children:[e.jsx(V,{value:"0",children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(or,{sx:{color:"#666"}}),e.jsx(t,{children:"یک طرف"})]})}),e.jsx(V,{value:"1",children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ar,{sx:{color:"#1976d2"}}),e.jsx(t,{children:"پشت و رو"})]})})]})]})]})]})]}),i===2&&e.jsxs(r,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:600,mb:3,textAlign:"center"},children:se[2].label}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:4,textAlign:"center"},children:se[2].description}),e.jsxs(j,{elevation:4,sx:{p:4,borderRadius:3,backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",mb:4},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3},children:"بررسی اطلاعات فایل"}),e.jsxs(ur,{sx:{p:0},children:[e.jsxs(be,{sx:{px:0,py:1},children:[e.jsx(je,{children:e.jsx(Ue,{sx:{color:"#1976d2"}})}),e.jsx(me,{primary:"نام فایل",secondary:(fe=l.file)==null?void 0:fe.name})]}),e.jsxs(be,{sx:{px:0,py:1},children:[e.jsx(je,{children:e.jsx(Te,{sx:{color:"#1976d2"}})}),e.jsx(me,{primary:"توضیحات",secondary:l.description||"بدون توضیح"})]}),e.jsxs(be,{sx:{px:0,py:1},children:[e.jsx(je,{children:e.jsx(ar,{sx:{color:"#1976d2"}})}),e.jsx(me,{primary:"تنظیمات",secondary:`کاغذ ${l.paper_size} - ${l.duplex==="1"?"پشت و رو":"یک طرف"}`})]}),F&&l.pages&&e.jsxs(be,{sx:{px:0,py:1},children:[e.jsx(je,{children:e.jsx(or,{sx:{color:"#1976d2"}})}),e.jsx(me,{primary:"صفحات مورد نظر",secondary:l.pages})]})]})]}),w&&e.jsxs(r,{sx:{mb:3},children:[e.jsx(Nr,{variant:"determinate",value:f,sx:{height:8,borderRadius:4,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{borderRadius:4,background:"linear-gradient(90deg, #1976d2, #42a5f5)"}}}),e.jsxs(t,{variant:"body2",sx:{mt:1,textAlign:"center"},children:["در حال آپلود... ",f,"%"]})]}),O&&e.jsx(Je,{severity:O.includes("موفقیت")?"success":"error",sx:{mb:3,borderRadius:3,fontSize:"1rem"},children:O})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[e.jsx(u,{disabled:i===0,onClick:ge,sx:{borderRadius:3,px:4,py:1.5,fontWeight:600},children:"قبلی"}),i===se.length-1?e.jsx(u,{variant:"contained",onClick:ee,disabled:w,sx:{borderRadius:3,px:4,py:1.5,fontWeight:600,background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)"}},children:w?"در حال آپلود...":"آپلود فایل"}):e.jsx(u,{variant:"contained",onClick:he,disabled:i===0&&!l.file,sx:{borderRadius:3,px:4,py:1.5,fontWeight:600,background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)"}},children:"بعدی"})]})]})})]})}):e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",direction:"rtl"},children:e.jsxs(j,{sx:{p:4,borderRadius:4},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600},children:"برای آپلود فایل ابتدا وارد حساب کاربری شوید."}),e.jsx(u,{sx:{mt:2},variant:"contained",onClick:h,children:"بازگشت به صفحه ورود"})]})})}const Re=Le.apiBaseUrl;function yt({user:o,onNavigate:a,onLogout:h}){const S=Ve(),p=Ye(S.breakpoints.down("md")),{isRTL:i}=qe(),[v,l]=x.useState([]),[g,w]=x.useState(!0),[_,O]=x.useState(null),[z,F]=x.useState({description:"",pages:"",paper_size:"A4",duplex:"0"}),[J,f]=x.useState(!1),[R,$]=x.useState(null),[A,b]=x.useState({open:!1,message:"",severity:"success"}),[L,B]=x.useState({});x.useEffect(()=>{o!=null&&o.id&&Z()},[o]);const Z=()=>N(this,null,function*(){var c;if(o)try{w(!0);const m=yield D.get(`${Re}/my_uploads/`);l(m.data)}catch(m){if(console.error("Error loading files:",m),((c=m.response)==null?void 0:c.status)===401){h();return}d("خطا در بارگذاری فایل‌ها","error")}finally{w(!1)}}),q=c=>N(this,null,function*(){var m;try{B(Ke=>U(P({},Ke),{[c.id]:!0}));const y=yield D.get(`${Re}/download_file/${c.id}/`,{responseType:"blob"}),re=window.URL.createObjectURL(new Blob([y.data])),K=document.createElement("a");K.href=re,K.setAttribute("download",c.filename),document.body.appendChild(K),K.click(),K.remove(),window.URL.revokeObjectURL(re),d("فایل با موفقیت دانلود شد","success")}catch(y){if(console.error("Download error:",y),((m=y.response)==null?void 0:m.status)===401){h();return}d("خطا در دانلود فایل","error")}finally{B(y=>U(P({},y),{[c.id]:!1}))}}),he=()=>N(this,null,function*(){var c;if(R)try{yield D.post(`${Re}/delete_upload/`,{id:R.id}),l(v.filter(m=>m.id!==R.id)),f(!1),$(null),d("فایل با موفقیت حذف شد","success")}catch(m){if(console.error("Delete error:",m),((c=m.response)==null?void 0:c.status)===401){h();return}d("خطا در حذف فایل","error")}}),ge=c=>{O(c.id),F({description:c.description||"",pages:c.pages||"",paper_size:c.paper_size,duplex:c.duplex.toString()})},ee=c=>N(this,null,function*(){var m;c.preventDefault();try{yield D.post(`${Re}/edit_upload/`,U(P({id:_},z),{duplex:parseInt(z.duplex)})),l(v.map(y=>y.id===_?U(P(P({},y),z),{duplex:parseInt(z.duplex)}):y)),O(null),d("فایل با موفقیت ویرایش شد","success")}catch(y){if(console.error("Edit error:",y),((m=y.response)==null?void 0:m.status)===401){h();return}d("خطا در ویرایش فایل","error")}}),Ce=c=>{F(U(P({},z),{[c.target.name]:c.target.value}))},fe=()=>{O(null)},d=(c,m="success")=>{b({open:!0,message:c,severity:m})},C=()=>{b(U(P({},A),{open:!1}))},Y=c=>new Date(c).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=c=>{if(c===0)return"0 Bytes";const m=1024,y=["Bytes","KB","MB","GB"],re=Math.floor(Math.log(c)/Math.log(m));return parseFloat((c/Math.pow(m,re)).toFixed(2))+" "+y[re]};return o?g?e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:e.jsx(_e,{size:60,sx:{color:"#1976d2"}})}):e.jsx(r,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:{xs:2,sm:3,md:4},direction:"rtl"},children:e.jsxs(Se,{maxWidth:"lg",children:[e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid rgba(0,0,0,0.05)",mb:4},children:e.jsx(Q,{sx:{p:4},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{sx:{width:60,height:60,background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",boxShadow:"0 8px 32px rgba(25, 118, 210, 0.3)"},children:e.jsx(He,{sx:{fontSize:28,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#1976d2",mb:.5},children:"فایل‌های من"}),e.jsxs(t,{variant:"h6",color:"text.secondary",children:[o==null?void 0:o.name," - پایه ",o==null?void 0:o.grade]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[v.length," فایل آپلود شده"]})]})]}),e.jsxs(r,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(u,{variant:"outlined",onClick:Z,startIcon:e.jsx(ae,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:"بروزرسانی"}),e.jsx(u,{variant:"contained",onClick:()=>a("upload"),startIcon:e.jsx(Be,{}),sx:{borderRadius:3,fontWeight:600,background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)"}},children:"آپلود جدید"}),e.jsx(u,{variant:"outlined",onClick:h,sx:{borderRadius:3,fontWeight:600,borderColor:"#dc004e",color:"#dc004e","&:hover":{backgroundColor:"#dc004e",color:"white"}},children:"خروج"})]})]})})}),e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:v.length===0?e.jsxs(Q,{sx:{p:8,textAlign:"center"},children:[e.jsx(r,{sx:{width:120,height:120,borderRadius:"50%",background:"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px auto"},children:e.jsx(lr,{sx:{fontSize:60,color:"#999"}})}),e.jsx(t,{variant:"h5",sx:{fontWeight:600,mb:2},children:"هنوز فایلی آپلود نکرده‌اید"}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"برای شروع، اولین فایل خود را آپلود کنید"}),e.jsx(u,{variant:"contained",size:"large",onClick:()=>a("upload"),startIcon:e.jsx(Be,{}),sx:{borderRadius:3,px:4,py:2,fontWeight:600,fontSize:"1.1rem",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)"}},children:"آپلود اولین فایل"})]}):e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"نام فایل"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"توضیحات"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تنظیمات چاپ"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تاریخ"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center"},children:"عملیات"})]})}),e.jsx(xe,{children:v.map(c=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"8px",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(lr,{sx:{fontSize:20,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:c.filename}),e.jsx(t,{variant:"body2",color:"text.secondary",children:W(c.file_size||0)})]})]})}),e.jsx(n,{children:_===c.id?e.jsx(X,{fullWidth:!0,name:"description",value:z.description,onChange:Ce,variant:"outlined",size:"small",placeholder:"توضیحات...",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}):e.jsx(t,{variant:"body2",children:c.description||"-"})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(T,{label:`کاغذ ${c.paper_size}`,size:"small",color:"primary",variant:"outlined"}),e.jsx(T,{label:c.duplex?"پشت و رو":"یک طرف",size:"small",color:c.duplex?"secondary":"default"}),c.pages&&e.jsx(T,{label:`صفحات: ${c.pages}`,size:"small",variant:"outlined"})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Vr,{sx:{fontSize:16,color:"#666"}}),e.jsx(t,{variant:"body2",children:Y(c.created_at)})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[e.jsx(H,{title:"دانلود",children:e.jsx(E,{onClick:()=>q(c),disabled:L[c.id],sx:{backgroundColor:"#e3f2fd",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:L[c.id]?e.jsx(_e,{size:20}):e.jsx(oe,{})})}),_===c.id?e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"ذخیره",children:e.jsx(E,{onClick:ee,sx:{backgroundColor:"#e8f5e8",color:"#4caf50","&:hover":{backgroundColor:"#4caf50",color:"white"}},children:e.jsx(Yr,{})})}),e.jsx(H,{title:"لغو",children:e.jsx(E,{onClick:fe,sx:{backgroundColor:"#fce4ec",color:"#e91e63","&:hover":{backgroundColor:"#e91e63",color:"white"}},children:e.jsx(Jr,{})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"ویرایش",children:e.jsx(E,{onClick:()=>ge(c),sx:{backgroundColor:"#fff3e0",color:"#ff9800","&:hover":{backgroundColor:"#ff9800",color:"white"}},children:e.jsx(Ne,{})})}),e.jsx(H,{title:"حذف",children:e.jsx(E,{onClick:()=>{$(c),f(!0)},sx:{backgroundColor:"#ffebee",color:"#f44336","&:hover":{backgroundColor:"#f44336",color:"white"}},children:e.jsx(ve,{})})})]})]})})]},c.id))})]})})}),p&&e.jsx(qr,{color:"primary","aria-label":"آپلود",onClick:()=>a("upload"),sx:{position:"fixed",bottom:24,left:24,background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)"}},children:e.jsx(Be,{})}),e.jsxs(pr,{open:J,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(br,{sx:{fontWeight:700,fontSize:"1.25rem"},children:"تایید حذف فایل"}),e.jsx(jr,{children:e.jsxs(t,{variant:"body1",children:["آیا مطمئن هستید که می‌خواهید فایل ",e.jsx("strong",{children:R==null?void 0:R.filename})," را حذف کنید؟",e.jsx("br",{}),"این عمل قابل بازگشت نیست."]})}),e.jsxs(mr,{children:[e.jsx(u,{onClick:()=>f(!1),sx:{fontWeight:600},children:"لغو"}),e.jsx(u,{onClick:he,variant:"contained",color:"error",sx:{fontWeight:600},children:"حذف"})]})]}),e.jsx(vr,{open:A.open,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(Je,{onClose:C,severity:A.severity,sx:{width:"100%",fontSize:"1rem"},children:A.message})})]})}):e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:e.jsxs(j,{sx:{p:4,borderRadius:4},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600},children:"لطفاً ابتدا وارد حساب کاربری شوید."}),e.jsx(u,{sx:{mt:2},variant:"contained",onClick:h,children:"بازگشت به صفحه ورود"})]})})}function St({onAdminLogin:o}){const a=()=>N(this,null,function*(){try{const h=yield axios.get(`${API_BASE_URL}/admin/`);h.data.success&&o(h.data)}catch(h){console.error("Admin access error:",h)}});return e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:2},children:e.jsx(Se,{maxWidth:"sm",children:e.jsxs(j,{elevation:2,sx:{p:4,borderRadius:2,textAlign:"center"},children:[e.jsx(r,{sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"#dc004e",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto"},children:e.jsx(Oe,{sx:{fontSize:30,color:"white"}})}),e.jsx(t,{variant:"h5",component:"h1",sx:{fontWeight:600,mb:2},children:"پنل مدیریت"}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"دسترسی مستقیم به پنل مدیریت"}),e.jsx(u,{variant:"contained",color:"secondary",fullWidth:!0,onClick:a,sx:{py:1.5},children:"ورود به پنل مدیریت"})]})})})}const ne=Le.apiBaseUrl,Ct=[{text:"داشبورد",icon:e.jsx(ot,{}),active:!0,id:"dashboard"},{text:"آمار و تحلیل",icon:e.jsx(at,{}),active:!1,id:"analytics"},{text:"مدیریت معلم‌ها",icon:e.jsx(yr,{}),active:!1,id:"teachers"},{text:"مدیریت فایل‌ها",icon:e.jsx(Sr,{}),active:!1,id:"files"},{text:"مدیریت مدیران",icon:e.jsx(Oe,{}),active:!1,id:"admins"},{text:"تنظیمات سیستم",icon:e.jsx(lt,{}),active:!1,id:"settings"},{text:"پایگاه داده",icon:e.jsx(Ae,{}),active:!1,id:"database"},{text:"گزارش‌ها",icon:e.jsx(dt,{}),active:!1,id:"logs"}];function kt({onLogout:o,adminProfile:a}){const h=Ve(),S=Ye(h.breakpoints.down("md")),{isRTL:p}=qe(),[i,v]=x.useState(null),[l,g]=x.useState([]),[w,_]=x.useState([]),[O,z]=x.useState([]),[F,J]=x.useState([]),[f,R]=x.useState(!0),[$,A]=x.useState(!1),[b,L]=x.useState("dashboard"),[B,Z]=x.useState(""),[q,he]=x.useState(""),[ge,ee]=x.useState(!1),[Ce,fe]=x.useState(!1),[d,C]=x.useState(null),[Y,W]=x.useState(null),[c,m]=x.useState([]),[y,re]=x.useState({open:!1,message:"",severity:"success"}),[K,Ke]=x.useState({maxFileSize:50,allowedExtensions:["pdf","jpg","jpeg","png","txt"],maintenanceMode:!1,backupFrequency:"daily"}),ke=(a==null?void 0:a.full_name)||"مدیر سیستم",wr=(ke==null?void 0:ke.charAt(0))||"م",Wr=(a==null?void 0:a.email)||"دسترسی کامل",we=(i==null?void 0:i.total_storage_mb)||0,Xe=we>=1024?`${(we/1024).toFixed(1)} GB`:`${we.toFixed(1)} MB`;x.useEffect(()=>{ue()},[]);const ue=()=>N(this,null,function*(){var s;try{R(!0);const M=[D.get(`${ne}/admin_stats/`),D.get(`${ne}/all_uploads/`),D.get(`${ne}/admin_teachers/`),D.get(`${ne}/admin_users/`),D.get(`${ne}/activity_logs/`)],[I,pe,te,tr,sr]=yield Promise.all(M);I.data.success&&v(I.data.stats),pe.data.success&&g(pe.data.uploads),te.data.success&&_(te.data.teachers),tr.data.success&&z(tr.data.admins),sr.data.success&&J(sr.data.logs)}catch(M){if(console.error("Error loading admin data:",M),((s=M.response)==null?void 0:s.status)===401){o();return}ie("خطا در بارگذاری داده‌ها","error")}finally{R(!1)}}),zr=s=>N(this,null,function*(){var M;try{yield D.post(`${ne}/admin/delete_teacher/`,{id:s}),_(w.filter(I=>I.id!==s)),ie("معلم با موفقیت حذف شد","success"),ee(!1),C(null)}catch(I){if(console.error("Delete teacher error:",I),((M=I.response)==null?void 0:M.status)===401){o();return}ie("خطا در حذف معلم","error")}}),Qe=s=>N(this,null,function*(){var M;try{const I=yield D.get(`${ne}/download_file/${s.id}/`,{responseType:"blob"}),pe=window.URL.createObjectURL(new Blob([I.data])),te=document.createElement("a");te.href=pe,te.setAttribute("download",s.filename),document.body.appendChild(te),te.click(),te.remove(),window.URL.revokeObjectURL(pe),ie("فایل با موفقیت دانلود شد","success")}catch(I){if(console.error("Download error:",I),((M=I.response)==null?void 0:M.status)===401){o();return}ie("خطا در دانلود فایل","error")}}),Ze=s=>N(this,null,function*(){var M;try{yield D.post(`${ne}/delete_upload/`,{id:s}),g(l.filter(I=>I.id!==s)),ie("فایل با موفقیت حذف شد","success")}catch(I){if(console.error("Delete error:",I),((M=I.response)==null?void 0:M.status)===401){o();return}ie("خطا در حذف فایل","error")}}),ie=(s,M="success")=>{re({open:!0,message:s,severity:M})},er=()=>{re(U(P({},y),{open:!1}))},rr=s=>new Date(s).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),We=l.filter(s=>s.filename.toLowerCase().includes(B.toLowerCase())||s.teacher.toLowerCase().includes(B.toLowerCase()));return f?e.jsx(r,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:e.jsxs(r,{textAlign:"center",children:[e.jsx(_e,{size:60,sx:{color:"#1a237e",mb:2}}),e.jsx(t,{variant:"h6",sx:{color:"#666"},children:"در حال بارگذاری داده‌های مدیریت..."})]})}):e.jsxs(r,{sx:{display:"flex",minHeight:"100vh",direction:"rtl"},children:[e.jsx(Kr,{position:"fixed",sx:{zIndex:h.zIndex.drawer+1,background:"linear-gradient(135deg, #1a237e 0%, #3f51b5 100%)",boxShadow:"0 4px 20px rgba(26, 35, 126, 0.3)"},children:e.jsxs(Pe,{children:[e.jsx(E,{color:"inherit",edge:"start",onClick:()=>A(!$),sx:{mr:2,display:{md:"none"},backgroundColor:"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},children:e.jsx(Xr,{})}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Oe,{sx:{fontSize:24}})}),e.jsx(t,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:"پنل مدیریت سیستم"})]}),e.jsx(r,{sx:{flexGrow:1}}),e.jsx(u,{color:"inherit",onClick:o,startIcon:e.jsx(Qr,{}),sx:{fontWeight:600,borderRadius:3,px:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"خروج از سیستم"})]})}),e.jsxs(Zr,{variant:S?"temporary":"permanent",open:$,onClose:()=>A(!1),sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",backgroundColor:"#ffffff",borderRight:"1px solid rgba(0,0,0,0.08)"}},children:[e.jsx(Pe,{}),e.jsxs(r,{sx:{overflow:"auto",p:2},children:[e.jsx(j,{elevation:4,sx:{p:3,mb:3,borderRadius:3,background:"linear-gradient(135deg, #1a237e 0%, #3f51b5 100%)",color:"white"},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{sx:{width:50,height:50,backgroundColor:"rgba(255, 255, 255, 0.2)",fontWeight:700},children:wr}),e.jsxs(r,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:700},children:ke}),e.jsx(t,{variant:"body2",sx:{opacity:.8},children:Wr})]})]})}),e.jsx(ur,{sx:{p:0},children:Ct.map(s=>e.jsxs(be,{selected:b===s.id,onClick:()=>L(s.id),sx:{borderRadius:3,mb:1,cursor:"pointer","&.Mui-selected":{backgroundColor:"rgba(26, 35, 126, 0.1)","&:hover":{backgroundColor:"rgba(26, 35, 126, 0.15)"}},"&:hover":{backgroundColor:"rgba(26, 35, 126, 0.05)"}},children:[e.jsx(je,{children:e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:b===s.id?"#1a237e":"rgba(26, 35, 126, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:b===s.id?"white":"#1a237e"},children:s.icon})}),e.jsx(me,{primary:s.text,primaryTypographyProps:{fontWeight:600,fontSize:"1rem"}})]},s.text))})]})]}),e.jsxs(r,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(Pe,{}),e.jsxs(Se,{maxWidth:"xl",children:[b==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{elevation:8,sx:{borderRadius:4,p:4,mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,right:0,width:"200px",height:"200px",background:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(50%, -50%)"}},children:e.jsxs(r,{sx:{position:"relative",zIndex:1},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:2},children:"خوش آمدید به پنل مدیریت"}),e.jsx(t,{variant:"h6",sx:{opacity:.9,mb:3},children:"سیستم آپلود فایل معلم - مدیریت کامل و جامع"}),e.jsxs(r,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(T,{label:`کل معلم‌ها: ${(i==null?void 0:i.total_teachers)||0}`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),e.jsx(T,{label:`کل آپلودها: ${(i==null?void 0:i.total_uploads)||0}`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),e.jsx(T,{label:`فضای استفاده شده: ${Xe}`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}})]})]})}),e.jsxs(k,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(k,{xs:12,sm:6,md:3,children:e.jsx(ze,{elevation:8,sx:{borderRadius:4,background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",border:"1px solid rgba(25, 118, 210, 0.1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(25, 118, 210, 0.2)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:e.jsx(Q,{sx:{p:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{sx:{width:50,height:50,borderRadius:"50%",backgroundColor:"#1976d2",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(yr,{sx:{fontSize:24,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{color:"textSecondary",gutterBottom:!0,sx:{fontWeight:600},children:"کل معلم‌ها"}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#1976d2"},children:(i==null?void 0:i.total_teachers)||0})]})]})})})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ze,{elevation:8,sx:{borderRadius:4,background:"linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%)",border:"1px solid rgba(76, 175, 80, 0.1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(76, 175, 80, 0.2)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:e.jsx(Q,{sx:{p:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{sx:{width:50,height:50,borderRadius:"50%",backgroundColor:"#4caf50",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(Sr,{sx:{fontSize:24,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{color:"textSecondary",gutterBottom:!0,sx:{fontWeight:600},children:"کل آپلودها"}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#4caf50"},children:(i==null?void 0:i.total_uploads)||0})]})]})})})}),e.jsx(k,{xs:12,sm:6,md:3,children:e.jsx(ze,{elevation:8,sx:{borderRadius:4,background:"linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)",border:"1px solid rgba(255, 152, 0, 0.1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(255, 152, 0, 0.2)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:e.jsx(Q,{sx:{p:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{sx:{width:50,height:50,borderRadius:"50%",backgroundColor:"#ff9800",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(dr,{sx:{fontSize:24,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{color:"textSecondary",gutterBottom:!0,sx:{fontWeight:600},children:"آپلودهای امروز"}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#ff9800"},children:l.filter(s=>new Date(s.created_at).toDateString()===new Date().toDateString()).length})]})]})})})}),e.jsx(k,{xs:12,sm:6,md:3,children:e.jsx(ze,{elevation:8,sx:{borderRadius:4,background:"linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%)",border:"1px solid rgba(233, 30, 99, 0.1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(233, 30, 99, 0.2)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:e.jsx(Q,{sx:{p:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{sx:{width:50,height:50,borderRadius:"50%",backgroundColor:"#e91e63",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(Ae,{sx:{fontSize:24,color:"white"}})}),e.jsxs(r,{children:[e.jsx(t,{color:"textSecondary",gutterBottom:!0,sx:{fontWeight:600},children:"فضای استفاده شده"}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#e91e63"},children:Xe})]})]})})})})]}),e.jsx(j,{elevation:8,sx:{borderRadius:4,p:3,mb:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:e.jsxs(r,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(X,{fullWidth:!0,placeholder:"جستجو در فایل‌ها...",value:B,onChange:s=>Z(s.target.value),InputProps:{startAdornment:e.jsx(Ee,{position:p?"end":"start",children:e.jsx($e,{sx:{color:"#666"}})})},sx:{maxWidth:400,"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsx(u,{variant:"outlined",onClick:ue,startIcon:e.jsx(ae,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1a237e",color:"#1a237e","&:hover":{backgroundColor:"#1a237e",color:"white"}},children:"بروزرسانی"})]})}),e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:e.jsxs(Q,{sx:{p:3},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,mb:3,color:"#1a237e"},children:"تمام آپلودهای سیستم"}),e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"فایل"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"معلم"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"پایه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تنظیمات"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تاریخ"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center"},children:"عملیات"})]})}),e.jsx(xe,{children:We.map(s=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"8px",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Te,{sx:{fontSize:20,color:"white"}})}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.filename})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(He,{sx:{fontSize:16,color:"#666"}}),e.jsx(t,{variant:"body2",children:s.teacher})]})}),e.jsx(n,{children:e.jsx(T,{label:`پایه ${s.grade}`,size:"small",color:"primary",variant:"outlined",sx:{fontWeight:600}})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(T,{label:s.duplex?"پشت و رو":"یک طرف",size:"small",color:s.duplex?"secondary":"default"}),e.jsxs(t,{variant:"caption",children:["کاغذ ",s.paper_size]})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(cr,{sx:{fontSize:16,color:"#666"}}),e.jsx(t,{variant:"body2",children:rr(s.created_at)})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[e.jsx(H,{title:"دانلود",children:e.jsx(E,{onClick:()=>Qe(s),sx:{backgroundColor:"#e3f2fd",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:e.jsx(oe,{})})}),e.jsx(H,{title:"حذف",children:e.jsx(E,{onClick:()=>Ze(s.id),sx:{backgroundColor:"#ffebee",color:"#f44336","&:hover":{backgroundColor:"#f44336",color:"white"}},children:e.jsx(ve,{})})})]})})]},s.id))})]})}),We.length===0&&e.jsxs(r,{sx:{p:8,textAlign:"center"},children:[e.jsx(t,{variant:"h6",sx:{color:"#666",mb:2},children:"فایلی یافت نشد"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"هیچ فایلی با معیارهای جستجو مطابقت ندارد"})]})]})})]}),b==="analytics"&&e.jsxs(r,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:4,color:"#1a237e"},children:"آمار و تحلیل سیستم"}),e.jsxs(k,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,height:"400px",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:2,color:"#1a237e"},children:"توزیع آپلودها بر اساس پایه"}),e.jsxs(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:[e.jsx(et,{sx:{fontSize:120,color:"#1976d2",opacity:.5}}),e.jsx(t,{variant:"body1",sx:{position:"absolute",color:"#666"},children:"نمودار آماری در آینده اضافه خواهد شد"})]})]})}),e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,height:"400px",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:2,color:"#1a237e"},children:"روند آپلودها در طول زمان"}),e.jsxs(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:[e.jsx(rt,{sx:{fontSize:120,color:"#4caf50",opacity:.5}}),e.jsx(t,{variant:"body1",sx:{position:"absolute",color:"#666"},children:"نمودار روند در آینده اضافه خواهد شد"})]})]})})]}),e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#1a237e"},children:"آمار پیشرفته سیستم"}),e.jsxs(k,{container:!0,spacing:3,children:[e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{sx:{textAlign:"center",p:2,border:"1px solid #e0e0e0",borderRadius:2},children:[e.jsx(tt,{sx:{fontSize:40,color:"#ff9800",mb:1}}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#ff9800"},children:l.filter(s=>new Date(s.created_at).toDateString()===new Date().toDateString()).length}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"آپلودهای امروز"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{sx:{textAlign:"center",p:2,border:"1px solid #e0e0e0",borderRadius:2},children:[e.jsx(dr,{sx:{fontSize:40,color:"#4caf50",mb:1}}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#4caf50"},children:Math.round(l.length/Math.max((i==null?void 0:i.total_teachers)||1,1)*10)/10}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"میانگین آپلود per معلم"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{sx:{textAlign:"center",p:2,border:"1px solid #e0e0e0",borderRadius:2},children:[e.jsx(Ae,{sx:{fontSize:40,color:"#9c27b0",mb:1}}),e.jsxs(t,{variant:"h4",sx:{fontWeight:700,color:"#9c27b0"},children:[(we/Math.max(l.length,1)).toFixed(1)," MB"]}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"حجم متوسط فایل"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{sx:{textAlign:"center",p:2,border:"1px solid #e0e0e0",borderRadius:2},children:[e.jsx(st,{sx:{fontSize:40,color:"#f44336",mb:1}}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"#f44336"},children:F.length}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"کل فعالیت‌ها"})]})})]})]})]}),b==="teachers"&&e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#1a237e"},children:"مدیریت معلم‌ها"}),e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(u,{variant:"contained",startIcon:e.jsx(xr,{}),sx:{borderRadius:3,fontWeight:600,background:"linear-gradient(135deg, #4caf50 0%, #66bb6a 100%)","&:hover":{background:"linear-gradient(135deg, #388e3c 0%, #4caf50 100%)"}},children:"افزودن معلم جدید"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(oe,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#f3f9ff",borderColor:"#1565c0"}},children:"خروجی Excel"})]})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:3,flexWrap:"wrap"},children:[e.jsx(X,{placeholder:"جستجو بر اساس نام یا شماره تماس...",value:B,onChange:s=>Z(s.target.value),InputProps:{startAdornment:e.jsx(Ee,{position:"start",children:e.jsx($e,{sx:{color:"#666"}})})},sx:{minWidth:300,"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsxs(X,{select:!0,label:"فیلتر پایه",value:q,onChange:s=>he(s.target.value),sx:{minWidth:120,"& .MuiOutlinedInput-root":{borderRadius:3}},children:[e.jsx(V,{value:"",children:"همه پایه‌ها"}),[1,2,3,4,5,6,7].map(s=>e.jsxs(V,{value:s,children:["پایه ",s]},s))]}),e.jsx(u,{variant:"outlined",onClick:ue,startIcon:e.jsx(ae,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1a237e",color:"#1a237e","&:hover":{backgroundColor:"#1a237e",color:"white"}},children:"بروزرسانی"})]}),e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"شناسه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"نام"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"شماره تماس"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"پایه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"وضعیت"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تاریخ عضویت"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center"},children:"عملیات"})]})}),e.jsx(xe,{children:w.filter(s=>s.name.toLowerCase().includes(B.toLowerCase())||s.phone.includes(B)).filter(s=>!q||s.grade===parseInt(q)).map(s=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsxs(n,{sx:{fontWeight:600,color:"#666"},children:["#",s.id]}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{sx:{width:32,height:32,backgroundColor:"#1976d2",fontSize:"0.9rem",fontWeight:600},children:s.name.charAt(0)}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.name})]})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",sx:{fontFamily:"monospace"},children:s.phone})}),e.jsx(n,{children:e.jsx(T,{label:`پایه ${s.grade}`,size:"small",color:"primary",variant:"outlined",sx:{fontWeight:600}})}),e.jsx(n,{children:e.jsx(T,{label:s.is_active?"فعال":"غیرفعال",color:s.is_active?"success":"error",size:"small",sx:{fontWeight:600}})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:new Date(s.created_at).toLocaleDateString("fa-IR")})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[e.jsx(H,{title:"ویرایش",children:e.jsx(E,{size:"small",sx:{backgroundColor:"#e3f2fd",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:e.jsx(Ne,{fontSize:"small"})})}),e.jsx(H,{title:"حذف",children:e.jsx(E,{size:"small",onClick:()=>{C(s),ee(!0)},sx:{backgroundColor:"#ffebee",color:"#f44336","&:hover":{backgroundColor:"#f44336",color:"white"}},children:e.jsx(ve,{fontSize:"small"})})})]})})]},s.id))})]})}),w.length===0&&e.jsxs(r,{sx:{p:8,textAlign:"center"},children:[e.jsx(t,{variant:"h6",sx:{color:"#666",mb:2},children:"هیچ معلمی یافت نشد"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"هنوز هیچ معلمی در سیستم ثبت نشده است"})]})]}),b==="admins"&&e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#1a237e"},children:"مدیریت مدیران سیستم"}),e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(u,{variant:"contained",startIcon:e.jsx(xr,{}),sx:{borderRadius:3,fontWeight:600,background:"linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%)","&:hover":{background:"linear-gradient(135deg, #7b1fa2 0%, #9c27b0 100%)"}},children:"افزودن مدیر جدید"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(oe,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#9c27b0",color:"#9c27b0","&:hover":{backgroundColor:"#f3e5f5",borderColor:"#7b1fa2"}},children:"خروجی Excel"})]})]}),e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"شناسه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"شماره تماس"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"نام کامل"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"ایمیل"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"وضعیت"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"آخرین ورود"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center"},children:"عملیات"})]})}),e.jsx(xe,{children:O.map(s=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsxs(n,{sx:{fontWeight:600,color:"#666"},children:["#",s.id]}),e.jsx(n,{children:e.jsx(t,{variant:"body2",sx:{fontFamily:"monospace"},children:s.phone})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{sx:{width:32,height:32,backgroundColor:"#9c27b0",fontSize:"0.9rem",fontWeight:600},children:s.full_name.charAt(0)}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.full_name})]})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:s.email})}),e.jsx(n,{children:e.jsx(T,{label:s.is_active?"فعال":"غیرفعال",color:s.is_active?"success":"error",size:"small",sx:{fontWeight:600}})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:s.last_login||"هرگز"})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[e.jsx(H,{title:"ویرایش",children:e.jsx(E,{size:"small",sx:{backgroundColor:"#f3e5f5",color:"#9c27b0","&:hover":{backgroundColor:"#9c27b0",color:"white"}},children:e.jsx(Ne,{fontSize:"small"})})}),e.jsx(H,{title:"حذف",children:e.jsx(E,{size:"small",sx:{backgroundColor:"#fce4ec",color:"#e91e63","&:hover":{backgroundColor:"#e91e63",color:"white"}},children:e.jsx(ve,{fontSize:"small"})})})]})})]},s.id))})]})}),O.length===0&&e.jsxs(r,{sx:{p:8,textAlign:"center"},children:[e.jsx(t,{variant:"h6",sx:{color:"#666",mb:2},children:"هیچ مدیری یافت نشد"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"هنوز هیچ مدیری در سیستم ثبت نشده است"})]})]}),b==="settings"&&e.jsxs(r,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:4,color:"#1a237e"},children:"تنظیمات سیستم"}),e.jsxs(k,{container:!0,spacing:3,children:[e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#1a237e"},children:"تنظیمات عمومی"}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(X,{label:"حداکثر حجم فایل (MB)",type:"number",defaultValue:K.maxFileSize,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsx(X,{label:"پسوندهای مجاز",defaultValue:K.allowedExtensions.join(", "),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsx(nt,{control:e.jsx(it,{defaultChecked:!K.maintenanceMode}),label:"حالت نگهداری"})]})]})}),e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#1a237e"},children:"تنظیمات پشتیبان‌گیری"}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(X,{select:!0,label:"فرکانس پشتیبان‌گیری",defaultValue:K.backupFrequency,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3}},children:[e.jsx(V,{value:"daily",children:"روزانه"}),e.jsx(V,{value:"weekly",children:"هفتگی"}),e.jsx(V,{value:"monthly",children:"ماهانه"})]}),e.jsx(u,{variant:"contained",startIcon:e.jsx(hr,{}),sx:{borderRadius:3,fontWeight:600,background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)","&:hover":{background:"linear-gradient(135deg, #f57c00 0%, #ff9800 100%)"}},children:"پشتیبان‌گیری فوری"})]})]})})]})]}),b==="database"&&e.jsxs(r,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:4,color:"#1a237e"},children:"مدیریت پایگاه داده"}),e.jsxs(k,{container:!0,spacing:3,children:[e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#1a237e"},children:"آمار پایگاه داده"}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body2",children:"کل معلم‌ها:"}),e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:(i==null?void 0:i.total_teachers)||0})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body2",children:"کل آپلودها:"}),e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:(i==null?void 0:i.total_uploads)||0})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body2",children:"کل فعالیت‌ها:"}),e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:F.length})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body2",children:"کل مدیران:"}),e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:O.length})]})]})]})}),e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#1a237e"},children:"عملیات پایگاه داده"}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(u,{variant:"outlined",startIcon:e.jsx(hr,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#4caf50",color:"#4caf50","&:hover":{backgroundColor:"#e8f5e8",borderColor:"#388e3c"}},children:"پشتیبان‌گیری از داده‌ها"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(ae,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#2196f3",color:"#2196f3","&:hover":{backgroundColor:"#e3f2fd",borderColor:"#1976d2"}},children:"بهینه‌سازی پایگاه داده"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(Ae,{}),color:"warning",sx:{borderRadius:3,fontWeight:600},children:"بازسازی ایندکس‌ها"})]})]})})]})]}),b==="logs"&&e.jsxs(j,{elevation:8,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#1a237e"},children:"گزارش فعالیت‌های سیستم"}),e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(u,{variant:"outlined",startIcon:e.jsx(oe,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1a237e",color:"#1a237e","&:hover":{backgroundColor:"#1a237e",color:"white"}},children:"خروجی گزارش"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(ae,{}),onClick:ue,sx:{borderRadius:3,fontWeight:600,borderColor:"#1a237e",color:"#1a237e","&:hover":{backgroundColor:"#1a237e",color:"white"}},children:"بروزرسانی"})]})]}),e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"شناسه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"کاربر"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"نوع فعالیت"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"توضیحات"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"آدرس IP"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تاریخ"})]})}),e.jsx(xe,{children:F.slice(0,50).map(s=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsxs(n,{sx:{fontWeight:600,color:"#666"},children:["#",s.id]}),e.jsx(n,{children:e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:s.teacher_name})}),e.jsx(n,{children:e.jsx(T,{label:s.action,size:"small",color:s.action==="login"?"success":s.action==="upload"?"primary":s.action==="delete"?"error":"default",sx:{fontWeight:600,fontSize:"0.75rem"}})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",children:s.description})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:s.ip_address})}),e.jsx(n,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:s.created_at})})]},s.id))})]})}),F.length===0&&e.jsxs(r,{sx:{p:8,textAlign:"center"},children:[e.jsx(t,{variant:"h6",sx:{color:"#666",mb:2},children:"هیچ فعالیتی یافت نشد"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"هنوز هیچ فعالیتی در سیستم ثبت نشده است"})]})]}),b==="files"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{elevation:8,sx:{borderRadius:4,p:3,mb:3,background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:e.jsxs(r,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(X,{placeholder:"جستجو در فایل‌ها...",value:B,onChange:s=>Z(s.target.value),InputProps:{startAdornment:e.jsx(Ee,{position:p?"end":"start",children:e.jsx($e,{sx:{color:"#666"}})})},sx:{maxWidth:400,"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsx(u,{variant:"outlined",onClick:ue,startIcon:e.jsx(ae,{}),sx:{borderRadius:3,fontWeight:600,borderColor:"#1a237e",color:"#1a237e","&:hover":{backgroundColor:"#1a237e",color:"white"}},children:"بروزرسانی"})]})}),e.jsx(j,{elevation:8,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.96)",backdropFilter:"blur(20px)",border:"1px solid rgba(0,0,0,0.05)"},children:e.jsxs(Q,{sx:{p:3},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,mb:3,color:"#1a237e"},children:"تمام آپلودهای سیستم"}),e.jsx(le,{children:e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(G,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"فایل"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"معلم"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"پایه"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تنظیمات"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem"},children:"تاریخ"}),e.jsx(n,{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center"},children:"عملیات"})]})}),e.jsx(xe,{children:We.map(s=>e.jsxs(G,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"8px",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Te,{sx:{fontSize:20,color:"white"}})}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.filename})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(He,{sx:{fontSize:16,color:"#666"}}),e.jsx(t,{variant:"body2",children:s.teacher})]})}),e.jsx(n,{children:e.jsx(T,{label:`پایه ${s.grade}`,size:"small",color:"primary",variant:"outlined",sx:{fontWeight:600}})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(T,{label:s.duplex?"پشت و رو":"یک طرف",size:"small",color:s.duplex?"secondary":"default"}),e.jsxs(t,{variant:"caption",children:["کاغذ ",s.paper_size]})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(cr,{sx:{fontSize:16,color:"#666"}}),e.jsx(t,{variant:"body2",children:rr(s.created_at)})]})}),e.jsx(n,{children:e.jsxs(r,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[e.jsx(H,{title:"دانلود",children:e.jsx(E,{onClick:()=>Qe(s),sx:{backgroundColor:"#e3f2fd",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white"}},children:e.jsx(oe,{})})}),e.jsx(H,{title:"حذف",children:e.jsx(E,{onClick:()=>Ze(s.id),sx:{backgroundColor:"#ffebee",color:"#f44336","&:hover":{backgroundColor:"#f44336",color:"white"}},children:e.jsx(ve,{})})})]})})]},s.id))})]})}),We.length===0&&e.jsxs(r,{sx:{p:8,textAlign:"center"},children:[e.jsx(t,{variant:"h6",sx:{color:"#666",mb:2},children:"فایلی یافت نشد"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"هیچ فایلی با معیارهای جستجو مطابقت ندارد"})]})]})})]})]})]}),e.jsxs(pr,{open:ge,onClose:()=>ee(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(br,{sx:{fontWeight:700,fontSize:"1.25rem"},children:"تایید حذف معلم"}),e.jsx(jr,{children:e.jsxs(t,{variant:"body1",children:["آیا مطمئن هستید که می‌خواهید معلم ",e.jsx("strong",{children:d==null?void 0:d.name})," را حذف کنید؟",e.jsx("br",{}),"تمام فایل‌های این معلم نیز حذف خواهند شد."]})}),e.jsxs(mr,{children:[e.jsx(u,{onClick:()=>ee(!1),sx:{fontWeight:600},children:"لغو"}),e.jsx(u,{onClick:()=>zr(d==null?void 0:d.id),variant:"contained",color:"error",sx:{fontWeight:600},children:"حذف"})]})]}),e.jsx(vr,{open:y.open,autoHideDuration:6e3,onClose:er,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(Je,{onClose:er,severity:y.severity,sx:{width:"100%",fontSize:"1rem"},children:y.message})})]})}function wt(){const[o,a]=x.useState(null),[h,S]=x.useState(null),[p,i]=x.useState(!1),[v,l]=x.useState("login"),[g,w]=x.useState(!0),_=f=>{f?D.defaults.headers.common.Authorization=`Bearer ${f}`:delete D.defaults.headers.common.Authorization};x.useEffect(()=>{const f=localStorage.getItem("authToken"),R=localStorage.getItem("authRole"),$=localStorage.getItem("user"),A=localStorage.getItem("adminProfile");if(f&&R){if(_(f),R==="admin"&&A){try{const b=JSON.parse(A);S(b)}catch(b){console.error("Failed to parse admin profile:",b),localStorage.removeItem("adminProfile")}i(!0),l("admin-dashboard")}else if(R==="teacher"&&$)try{const b=JSON.parse($);a(b),l("upload")}catch(b){console.error("Failed to parse user profile:",b),localStorage.removeItem("user")}}else if(localStorage.getItem("adminAccess")==="true"&&A){try{const L=JSON.parse(A);S(L)}catch(L){console.error("Failed to parse admin profile:",L),localStorage.removeItem("adminProfile")}i(!0),l("admin-dashboard")}else if($)try{const L=JSON.parse($);a(L),l("upload")}catch(L){console.error("Failed to parse user profile:",L),localStorage.removeItem("user")}w(!1)},[]);const O=f=>{!f||!f.token||!f.role||(_(f.token),localStorage.setItem("authToken",f.token),localStorage.setItem("authRole",f.role),f.role==="teacher"&&f.teacher?(a(f.teacher),S(null),i(!1),localStorage.setItem("user",JSON.stringify(f.teacher)),localStorage.removeItem("adminProfile"),localStorage.removeItem("adminAccess"),l("upload")):f.role==="admin"&&f.admin&&(a(null),S(f.admin),i(!0),localStorage.setItem("adminProfile",JSON.stringify(f.admin)),localStorage.setItem("adminAccess","true"),localStorage.removeItem("user"),l("admin-dashboard")))},z=f=>{O(f)},F=()=>{_(null),a(null),S(null),i(!1),localStorage.removeItem("authToken"),localStorage.removeItem("authRole"),localStorage.removeItem("user"),localStorage.removeItem("adminProfile"),localStorage.removeItem("adminAccess"),l("login")},J=()=>{switch(v){case"login":return e.jsx(bt,{onLogin:O});case"admin":return e.jsx(St,{onAdminLogin:z});case"admin-dashboard":return e.jsx(kt,{onLogout:F,adminProfile:h});case"upload":return e.jsx(vt,{user:o,onNavigate:l,onLogout:F});case"myfiles":return e.jsx(yt,{user:o,onNavigate:l,onLogout:F});default:return e.jsx(r,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",textAlign:"center"},children:e.jsxs(r,{sx:{maxWidth:"600px",width:"100%",backgroundColor:"white",borderRadius:"24px",padding:"48px 32px",boxShadow:"0 20px 60px rgba(0,0,0,0.1)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx(r,{sx:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 32px auto",boxShadow:"0 12px 40px rgba(25, 118, 210, 0.3)"},children:e.jsx(ye,{sx:{fontSize:60,color:"white"}})}),e.jsx(t,{variant:"h3",component:"h1",sx:{fontWeight:700,color:"#1976d2",mb:2,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"},lineHeight:1.2},children:"سیستم آپلود فایل معلم"}),e.jsx(t,{variant:"h6",sx:{color:"#666",mb:4,fontSize:{xs:"1rem",sm:"1.1rem"},lineHeight:1.6},children:"سیستم حرفه‌ای و مدرن برای مدیریت فایل‌های آموزشی"}),e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:"16px",justifyContent:"center",alignItems:"center"},children:[e.jsxs(r,{component:"button",onClick:()=>l("login"),sx:{background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",color:"white",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 8px 32px rgba(25, 118, 210, 0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",minWidth:"200px","&:hover":{transform:"translateY(-2px)",boxShadow:"0 12px 40px rgba(25, 118, 210, 0.4)"},"&:active":{transform:"translateY(0)"}},children:[e.jsx(ye,{sx:{fontSize:20}}),"ورود معلم"]}),e.jsxs(r,{component:"button",onClick:()=>l("admin"),sx:{background:"white",color:"#dc004e",border:"2px solid #dc004e",borderRadius:"16px",padding:"14px 32px",fontSize:"1.1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",minWidth:"200px","&:hover":{backgroundColor:"#dc004e",color:"white",transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(220, 0, 78, 0.3)"},"&:active":{transform:"translateY(0)"}},children:[e.jsx(Oe,{sx:{fontSize:20}}),"ورود مدیر"]})]})]})})}};return g?e.jsx(fr,{children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:e.jsxs(r,{sx:{textAlign:"center",backgroundColor:"white",padding:"48px 32px",borderRadius:"24px",boxShadow:"0 20px 60px rgba(0,0,0,0.1)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs(r,{sx:{position:"relative",display:"inline-block",mb:3},children:[e.jsx(_e,{size:60,sx:{color:"#1976d2"}}),e.jsx(r,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ye,{sx:{fontSize:16,color:"white"}})})]}),e.jsx(t,{variant:"h6",sx:{color:"#666",fontWeight:500},children:"در حال بارگذاری سیستم..."})]})})}):e.jsx(fr,{children:e.jsx(r,{sx:{minHeight:"100vh",backgroundColor:"#fafafa"},children:J()})})}Ge.createRoot(document.getElementById("root")).render(e.jsx(Cr.StrictMode,{children:e.jsx(wt,{})}));
